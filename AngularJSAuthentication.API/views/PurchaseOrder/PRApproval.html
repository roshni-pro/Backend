<style>
    .marButton {
        margin-top: 22px;
        margin-left: 30px;
    }
</style>
<div class="page page-table" button-permission-binder parentName="Purchase Order" pageName="PO Approval">
    <div class="panel-heading">
        <strong>
            <span class="glyphicon glyphicon-th"> </span>PR Approval page
        </strong>
    </div>
    
    <div class="">
        <div class="col-xs-12 col-md-12">
            <h3>PR Approval Detail</h3>
            <div>
                <button type="button" class="btn btn-primary" ng-click="openmodel()" data-dismiss="modal">
                    <span class="glyphicon glyphicon-plus"> </span> Add Approver
                </button>
            </div>
            <br />
            <table class="table table-bordered table-striped table-responsive">
                <thead>
                    <tr>
                        <th>
                            <div class="th">
                                Sr. No
                                <span class="glyphicon glyphicon-chevron-up"
                                      data-ng-click="order('Message') "
                                      data-ng-class="{active: row == 'Message'}"></span>
                                <span class="glyphicon glyphicon-chevron-down"
                                      data-ng-click="order('-Message') "
                                      data-ng-class="{active: row == '-Message'}"></span>
                            </div>
                        </th>
                        <th>
                            <div class="th">
                                Approver Name
                                <span class="glyphicon glyphicon-chevron-up"
                                      data-ng-click="order('Image') "
                                      data-ng-class="{active: row == 'Image'}"></span>
                                <span class="glyphicon glyphicon-chevron-down"
                                      data-ng-click="order('-Image') "
                                      data-ng-class="{active: row == '-Image'}"></span>
                            </div>
                        </th>
                        <th>
                            <div class="th">
                                RoleName
                                <span class="glyphicon glyphicon-chevron-up"
                                      data-ng-click="order('Image') "
                                      data-ng-class="{active: row == 'Image'}"></span>
                                <span class="glyphicon glyphicon-chevron-down"
                                      data-ng-click="order('-Image') "
                                      data-ng-class="{active: row == '-Image'}"></span>
                            </div>
                        </th>
                        <th>
                            <div class="th">
                                Amount lmt.
                                <span class="glyphicon glyphicon-chevron-up"
                                      data-ng-click="order('Image') "
                                      data-ng-class="{active: row == 'Image'}"></span>
                                <span class="glyphicon glyphicon-chevron-down"
                                      data-ng-click="order('-Image') "
                                      data-ng-class="{active: row == '-Image'}"></span>
                            </div>
                        </th>
                        <th>
                            <div class="th">
                                Edit
                                <span class="glyphicon glyphicon-chevron-up"
                                      data-ng-click="order('Image') "
                                      data-ng-class="{active: row == 'Image'}"></span>
                                <span class="glyphicon glyphicon-chevron-down"
                                      data-ng-click="order('-Image') "
                                      data-ng-class="{active: row == '-Image'}"></span>
                            </div>
                        </th>
                        <th>
                            <div class="th">
                                Remove
                                <span class="glyphicon glyphicon-chevron-up"
                                      data-ng-click="order('Image') "
                                      data-ng-class="{active: row == 'Image'}"></span>
                                <span class="glyphicon glyphicon-chevron-down"
                                      data-ng-click="order('-Image') "
                                      data-ng-class="{active: row == '-Image'}"></span>
                            </div>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-ng-repeat="trade in currentPageStores">
                        <td>{{$index +1}}</td>
                        <td>{{trade.ApprovalName}}</td>
                        <td>{{trade.RoleName}}</td>
                        <td>{{trade.AmountlmtMin}} To {{trade.AmountlmtMax}} </td>
                        <td><button type="button" class="btn btn-primary" ng-click="open(trade)">Edit</button></td>
                        <td><button type="button" class="btn btn-danger" ng-click="Remove(trade)">Remove</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<script type="text/ng-template" id="PRApproval.html">
    <div class="page page-table">
        <section class="panel panel-default table-dynamic">
            <div class="panel-heading">
                <strong>
                    <span class="glyphicon glyphicon-th"> </span>Edit PR Approvers
                </strong>
            </div>
            <div class="panel-body">
                <div class="row">
                </div>
                <div class="row">
                    <form role="form">
                        <div class="form-group col-md-8">
                            <label for="site-name">Amount lmt :</label>
                            <input type="number" min="0" ng-model="saveData.AmountlmtMin" />
                            <label for="site-name">To :</label>
                            <input type="number" min="0" ng-model="saveData.AmountlmtMax" />
                        </div>
                        <div class="form-group col-md-8">
                            <label for="site-name">Role Name :</label>
                            <input type="text" min="0" ng-model="saveData.RoleName" />
                        </div>
                    </form>
                    <div class="form-group col-md-3">
                        <button type="button" class="btn btn-ar btn-primary" ng-click="Update(saveData)">Update</button>
                        <button type="button" class="btn btn-ar btn-danger" ng-click="cancel()" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
                <br />
            </div>
            <br />
        </section>
    </div>
</script>
<script type="text/ng-template" id="AddPRApproval.html">
    <div class="page page-table">
        <section class="panel panel-default table-dynamic">
            <div class="panel-heading">
                <strong>
                    <span class="glyphicon glyphicon-th"> </span>Add PR Approvers
                </strong>
            </div>
            <div class="panel-body">
                <div class="row">
                </div>
                <div class="row">
                    <form role="form">
                        <div class="form-group col-md-3">
                            <label for="site-name">Approver</label><br />
                            <select class="form-control" id="site-name" ng-model="saveData.ApprovalBy">
                                <option value="0">--Select--</option>
                                <option value="{{ppl.Approval}}" ng-repeat="ppl in pplapr1"> {{ppl.ApprovalName}} </option>
                            </select>
                        </div>
                        <div class="form-group col-md-8">
                            <label for="site-name">Amount lmt :</label>
                            <input type="number" min="0" ng-model="saveData.AmountlmtMin" />
                            <label for="site-name">To :</label>
                            <input type="number" min="0" ng-model="saveData.AmountlmtMax" />
                        </div>
                        <div class="form-group col-md-8">
                            <label for="site-name">Role Name :</label>
                            <input type="text" min="0" ng-model="saveData.RoleName" />
                        </div>
                    </form>
                    <div class="form-group col-md-3">
                        <button type="button" class="btn btn-ar btn-primary"  ng-click="Add(saveData)">Add</button>
                        <button type="button" class="btn btn-ar btn-danger" ng-click="cancel()" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
                <br />
            </div>
            <br />
        </section>
    </div>
</script>
<script type="text/ng-template" id="RemovePRApproval.html">
    <div class="page page-table">
        <section class="panel panel-default table-dynamic">
            <div class="panel-heading">
                <strong>
                    <span class="glyphicon glyphicon-th"> </span>Remove PR Approvers
                </strong>
            </div>
            <div class="panel-body">
                <div class="row">
                </div>
                <div class="row">
                    <form role="form">
                        <div class="form-group col-md-8">
                            <label for="site-name">Name :</label>
                            <input type="text" min="0" ng-model="saveData.ApprovalName" />
                        </div>
                        <div class="form-group col-md-8">
                            <label for="site-name">Are You Sure  to Remove?? :</label>
                        </div>
                    </form>
                    <div class="form-group col-md-3">
                        <button type="button" class="btn btn-ar btn-primary" ng-click="Remove(saveData)">YES</button>
                        <button type="button" class="btn btn-ar btn-danger" ng-click="cancel()" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
                <br />
            </div>
            <br />
        </section>
    </div>
</script>
<style>
    .w3-red {
        color: #fff !important;
        background-color: slategray;
    }

    .w1-red {
        color: #fff !important;
        background-color: #4c4948 !important;
    }
</style>
<style>
    .modal-dialog1 {
        width: 100% !important;
        margin-left: 485px;
    }

    .redispatch {
        color: blue;
    }

    .delivered {
        color: forestgreen;
    }

    .canceled {
        color: red;
    }
</style>
<div class="modal fade " id="poapprovalmodel" role="dialog">

    <div class="modal-content">
        <div class="modal-header w3-red">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h3 class="modal-title" style="text-align: center;">PR Approval History</h3>
        </div>
        <table class="table table-bordered table-striped table-responsive">
            <thead>

                <tr class="w1-red">
                    <th>
                        <div class="th">
                            Id
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            Poapprovelid
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            Level
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            WarehouseName
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            ApprovalName1
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            ApprovalName 2
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            ApprovalName3
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            ApprovalName4
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            ApprovalName5
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            ReviewerName1
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            ReviewerName2
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            ReviewerName3
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            ReviewerName4
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            ReviewerName5
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            AmountlmtMin
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            AmountlmtMax
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            CreatedDate
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            UpdatedTime
                        </div>
                    </th>
                    <th>
                        <div class="th">
                            Updated By
                        </div>
                    </th>
                </tr>
            </thead>
            <tbody>

                <tr data-ng-repeat="trade in dataPRApprovalHistroy">
                    <td>{{$index+1}}</td>
                    <td>{{trade.Poapprovelid}}</td>
                    <td>{{trade.Level}}</td>
                    <td>{{trade.WarehouseName}}</td>
                    <td>{{trade.ApprovalName1}}</td>
                    <td>{{trade.ApprovalName2}}</td>
                    <td>{{trade.ApprovalName3}}</td>
                    <td>{{trade.ApprovalName4}}</td>
                    <td>{{trade.ApprovalName5}}</td>
                    <td>{{trade.ReviewerName1}}</td>
                    <td>{{trade.ReviewerName2}}</td>
                    <td>{{trade.ReviewerName3}}</td>
                    <td>{{trade.ReviewerName4}}</td>
                    <td>{{trade.ReviewerName5}}</td>
                    <td>{{trade.AmountlmtMin}}</td>
                    <td>{{trade.AmountlmtMax}}</td>
                    <td>{{trade.CreatedDate | date:'medium'}}</td>
                    <td>{{trade.UpdatedTime | date:'medium'}}</td>
                    <td>{{trade.UserName}}</td>
                </tr>
            </tbody>
        </table>
        <div class="modal-footer w3-red">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
    </div>
</div>