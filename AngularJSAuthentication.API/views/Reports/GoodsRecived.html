
<style>
    /* =============================================================
      GENERAL STYLES
    ============================================================ */
    @media screen {
        #printSection {
            display: none;
        }
    }

    @media print {
        body * {
            visibility: hidden;
        }

        #printSection, #printSection * {
            visibility: visible;
        }

        #printSection {
            position: absolute;
            left: 0;
            top: 0;
        }
    }

    /*body {
        font-family: 'Open Sans', sans-serif;
        font-size: 16px;
        line-height: 30px;
    }*/

    .pad-top-botm {
        padding-bottom: 40px;
        padding-top: 22px;
    }

    h4 {
        text-transform: uppercase;
    }
    /* =============================================================
      PAGE STYLES
    ============================================================ */

    .contact-info span {
        font-size: 14px;
        padding: 0px 50px 0px 50px;
    }

    .contact-info hr {
        margin-top: 0px;
        margin-bottom: 0px;
    }

    .client-info {
        font-size: 15px;
    }

    .ttl-amts {
        text-align: right;
        padding-right: 50px;
    }

    .containers {
        padding-left: 45px;
        padding-right: 45px;
    }

    hr {
        margin-top: 2px;
        margin-bottom: 2px;
    }
</style>
<style>
    .collapsible {
        background-color: #00a4e9;
        color: white;
        cursor: pointer;
        border-radius: 4px;
        width: 8%;
        height: 40px;
        border: none;
        text-align: left;
        outline: none;
        font-size: 15px;
        padding: 10px;
        box-shadow: 5px 5px 8px gray;
    }

        .active, .collapsible:hover {
            background-color: #555;
        }

    .content {
        padding: 0 18px;
        display: none;
        overflow: hidden;
        background-color: #f1f1f1;
    }
</style>
<!--<style>
    div.ex1 {
        background-color: lightblue;
        min-height: 300px;
        max-height: 500px;
        overflow: scroll;
    }

    div.ex2 {
        background-color: lightblue;
        width: 110px;
        height: 150px;
        overflow: hidden;
    }

    div.ex3 {
        background-color: lightblue;
        width: 110px;
        height: 110px;
        overflow: auto;
    }

    div.ex4 {
        background-color: lightblue;
        width: 110px;
        height: 110px;
        overflow: visible;
    }
</style>-->
<style>
    /*Here I will add some css for looks good*/
    .tabContainer {
        max-height: 400px;
        overflow: auto;
        width: 80%;
    }

    .tableData {
        border-left: solid 1px #D8C3C3;
        border-top: solid 1px #D8C3C3;
        width: 100%;
    }

        .tableData tr {
        }

        .tableData td, .tableData th {
            border-right: solid 1px #D8C3C3;
            border-bottom: solid 1px #D8C3C3;
            text-align: left;
            padding: 5px;
        }

        .tableData td {
        }

        .tableData th {
            background-color: #FAFAFA;
            padding: 7px 5px;
            border-bottom-color: #9C9C9C;
        }

    .odd {
        background-color: #f3f3f3;
    }

    .even {
        background-color: #ffffff;
    }

    tr.sub {
        display: none;
    }

    .CX {
        width: 35px;
    }

        .CX span {
            font-family: fantasy;
            font-size: 15px;
            display: block;
            width: 100%;
            cursor: pointer;
            text-align: center;
        }
</style>
<style>
    .or-bld {
        font-size: 25px;
        font-weight: bold;
        color: #EB5A00;
        font-family: fantasy;
    }

    .or-bld-2 {
        font-size: 18px;
        font-weight: bold;
        color: #EB5A00;
        font-family: fantasy;
    }


    .box-ds {
        border: solid 1px lightgray;
        padding: 13px 6px;
        margin: 5px
    }

    .or-sm {
        margin-top: 8px;
    }

    .btn-br {
        /*position: absolute;*/
        margin-left: 8px;
        border-radius: 19px;
        padding-top: 4px;
        padding-bottom: 4px;
    }

    .pull-right-im {
        float: right !important;
    }

    .br-or {
        border-top: solid 2px lightgray;
        margin: 20px 0px;
    }

    .bx-dr {
        border: solid 1px lightgray;
        padding: 2px 5px;
        min-width: 61px;
    }
</style>
<style>
    .accordion {
        background-color: #03A9F4;
        color: #fff;
        cursor: pointer;
        padding: 18px;
        width: 100%;
        border: none;
        text-align: left;
        outline: none;
        font-size: 20px;
        transition: 0.4s;
    }

        .active, .accordion:hover {
            background-color: #ccc;
        }

    .panel {
        padding: 0 18px;
        display: none;
        background-color: white;
        overflow: hidden;
    }


    table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
    }

    td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
    }

    /*tr:nth-child(even) {
        background-color: #dddddd;
    }*/
</style>
<style type="text/css">
    .button {
        width: 150px;
        padding: 10px;
        background-color: #FF8C00;
        box-shadow: -8px 8px 10px 3px rgba(0,0,0,0.2);
        font-weight: bold;
        text-decoration: none;
    }

    #coverMRP {
        position: fixed;
        top: 0;
        left: 0;
        background: rgba(0,0,0,0.6);
        z-index: 5;
        width: 100%;
        height: 100%;
        display: block;
    }

    #loginScreenMRP {
        min-height: 300px;
        width: 1039px;
        margin: 100px auto;
        position: relative;
        z-index: 10;
        display: block;
        background: white;
        border-radius: 7px;
    }


        #loginScreenMRP:target, #loginScreen:target + #cover {
            display: block;
            opacity: 2;
        }

    .cancelMRP {
        display: block;
        position: absolute;
        top: 3px;
        right: 2px;
        background: #fff;
        color: black;
        height: 30px;
        width: 35px;
        font-size: 30px;
        text-decoration: none;
        text-align: center;
        font-weight: bold;
        margin-right: 35px;
        border: none;
    }

    #cover {
        position: fixed;
        top: 0;
        left: 0;
        background: rgba(0,0,0,0.6);
        z-index: 5;
        width: 100%;
        height: 100%;
        display: block;
    }

    #loginScreen {
        min-height: 300px;
        width: 1236px;
        margin: 100px auto;
        position: relative;
        z-index: 10;
        display: block;
        background: white;
        border: 3px solid white;
        border-radius: 7px;
        margin-left: 370px;
    }

        #loginScreen:target, #loginScreen:target + #cover {
            display: block;
            opacity: 2;
        }

    .cancel {
        display: block;
        position: absolute;
        top: 3px;
        right: 2px;
        background: #fff;
        color: black;
        height: 30px;
        width: 35px;
        font-size: 30px;
        text-decoration: none;
        text-align: center;
        font-weight: bold;
        margin-right: 35px;
        border: none;
    }
</style>

<div class="client-document-container">
    <div class="containers">
        <br />
        <div class="row">
            <div class="col-md-12">
                <button type="button" class="accordion btn btn-info" data-toggle="collapse" data-target="#demoS">&nbsp; Purchase Order Master Detail.</button>
                <div id="demoS" class="collapse">
                    <br />
                    <div class="container-fluid">
                        <table class="table table-bordered" style="font-size: 14px !important;" width="100">
                            <tbody class="border">
                                <tr>
                                    <td colspan="3" style="text-align: center;font-size: large;">
                                        <strong style="text-align: center;">Purchase Order Master Detail</strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td height="60" width="33%"> <img src="./images/logo.PNG" style="padding-bottom: 20px;" /> <br /></td>
                                    <td height="60" width="33%">
                                        <p style="font-size: large;">
                                            <strong> ShopKirana E Trading Pvt. Ltd.</strong> <br />
                                            <span> Address:&nbsp; 201, 2nd Floor, A22/3 SP 365,</span> <br />
                                            <span> Janjeerwala Square, Indore-4552001,</span><br />
                                            <span> Madhya Pradesh.</span>
                                        </p>
                                    </td>
                                    <td height="60" width="33%">
                                        <p style="padding: 3px;">
                                            <span style="float: left">Delivery at: <strong> {{PurchaseOrderData.WarehouseName}}</strong></span><br />
                                            <span style="float: left">C/O:  {{WhAddress}}</span><br />
                                            <span style="float: left">City: {{WhCityName}}</span><br />
                                            <span style="float: left">Tel.No: {{WhPhone}}</span><br />
                                            <span style="float: left">GSTIN: {{WhGst}}</span>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="33%" style="color: orangered;text-align: center;">
                                        <b>PO Information</b>
                                    </td>
                                    <td width="33%" style="color: orangered;text-align: center;">
                                        <b>Supplier Information</b>
                                    </td>
                                    <td width="33%" style="color: orangered;text-align: center;">
                                        <b>Depo Information</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p>
                                            <span style="float: left">Invoice No: {{PurchaseOrderData.PoInvoiceNo}} </span> <br />
                                            <span style="float: left">PO.No: {{PurchaseOrderData.PurchaseOrderId}} </span> <br />
                                            <!--<span style="float: left">Transaction No: {{PurchaseOrderData.TransactionNumber}} </span> <br />-->
                                            <span style="float: left">Created Date: {{PurchaseOrderData.CreationDate | date}} </span> <br />
                                            <span style="float: left">PO Creater: {{PurchaseOrderData.CreatedBy}} </span> <br />
                                            <span style="float: left">Buyer: {{PurchaseOrderData.BuyerName}}</span>
                                        </p>
                                    </td>
                                    <td>
                                        <p style="padding: 3px;">
                                            <span style="float: left">{{PurchaseOrderData.SupplierName}}</span><br />
                                            <span ng-show="PurchaseOrderData.IsCashPurchase" style="float:left">CashPurchase Name:  {{PurchaseOrderData.CashPurchaseName}}</span><br />
                                            <span style="float: left">C/O:  {{supaddress}}</span><br />
                                            <span style="float: left">Tel.No: {{supMobileNo}}</span><br />
                                            <span style="float: left">GSTIN: {{SupGst}}</span>
                                        </p>
                                    </td>
                                    <td>
                                        <p style="padding: 3px;">
                                            <span style="float: left"> {{PurchaseOrderData.DepoName}}</span><br />
                                            <span style="float: left">C/O:  {{depoaddress}}</span><br />
                                            <span style="float: left">Tel.No: {{depoMobileNo}}</span><br />
                                            <span style="float: left">GSTIN: {{depoGSTin}}</span>
                                        </p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-md-6"><button type="button" class="accordion btn btn-info" data-toggle="collapse" data-target="#demoD">&nbsp; GR Product Detail..</button></div>
            <div class="col-md-6"> <button type="button" class="accordion btn btn-info" ng-click="getgrdata()" data-toggle="collapse" data-target="#demo">&nbsp; GR Product Received Detail..</button> </div>
            <div id="demoD" class="collapse">
                <div class="container-fluid">
                    <h4 class="title">GR Product Detail</h4>
                    <table class="tableData" border="0" cellspacing="0" cellpadding="0">
                        <thead>
                            <tr>
                                <th>SNo.</th>
                                <th>Item Number</th>
                                <th>Name</th>
                                <th>Demand Quantity</th>
                            </tr>
                        </thead>
                        <tbody ng-repeat="O in ProductData">
                            <tr>
                                <td>{{$index+1}}</td>
                                <td>{{O.ItemNumber}}</td>
                                <td>{{O.ItemName}}</td>
                                <td>{{O.TotalQuantity}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div id="demo" class="collapse">
                <div class="container-fluid">
                    <h4 class="title">GR Product Received Detail</h4>
                    <table class="tableData" border="0" cellspacing="0" cellpadding="0">
                        <thead>
                            <tr>
                                <th></th>
                                <th>SNo.</th>
                                <th>GR.No.</th>
                                <th>GR PersonName</th>
                                <th>GR Status</th>
                                <th>GR Date</th>
                                <th>GR Amount</th>
                                <th>Vehicle Type</th>
                                <th>Vehicle Number</th>
                                <th>Add & View Free Item</th>
                            </tr>
                        </thead>
                        <tbody ng-repeat="O in Master">
                            <tr ng-class-even="'even'" ng-class-odd="'odd'">
                                <td class="CX"><span style="color: red;">+</span></td>
                                <td>{{$index+1}}</td>
                                <td>{{O.GrNumber}}</td>
                                <td>{{O.GrPersonName}}</td>
                                <td ng-style="{ 'color' : (O.Status == 'Approved') ? 'black' : 'red'  }">{{O.Status}}</td>
                                <td>{{O.GrDate | date : format : medium}}</td>
                                <td style="        color: red;">{{O.GrAmount | number : 2}}</td>
                                <td ng-show="O.VehicleType != null">{{O.VehicleType}}</td>
                                <td ng-show="O.VehicleType == null"><span style="        color: red;">-</span></td>
                                <td ng-show="O.VehicleType != null">{{O.VehicleNumber }}</td>
                                <td ng-show="O.VehicleType == null"><span style="        color: red;">-</span></td>
                                <td>
                                    <button type="button" class="btn btn-primary btn-br" ng-click="AddFreeItem(O.GrNumber)" data-dismiss="modal">Free Item</button>
                                </td>
                            </tr>
                            <tr class="sub">
                                <td></td>
                                <td colspan="5">
                                    <table class="tableData" border="0" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <th>SNo.</th>
                                            <th>ItemMrpId</th>
                                            <th>Item Name.</th>
                                            <th>HSN</th>
                                            <th>Batch.No.</th>
                                            <th>MFG Date</th>
                                            <th>Total Quantity</th>
                                            <th>Qty Received</th>
                                            <th>Dam Received</th>
                                            <th>Exp Received</th>
                                            <th>Price</th>
                                            <th>Total Amount</th>
                                        </tr>
                                        <tr ng-repeat="PurchaseorderDetail in O.Detail" ng-class-even="'even'" ng-class-odd="'odd'">
                                            <td>{{$index+1}}</td>
                                            <td>{{PurchaseorderDetail.ItemMultiMRPId}}</td>
                                            <td>{{PurchaseorderDetail.ItemName}}</td>
                                            <td>{{PurchaseorderDetail.HSNCode}}</td>
                                            <td>{{PurchaseorderDetail.BatchNo}}</td>
                                            <td>{{PurchaseorderDetail.MFG | date : format : medium}}</td>
                                            <td>{{PurchaseorderDetail.TotalQuantity}}</td>
                                            <td>{{PurchaseorderDetail.QtyRecived}}</td>
                                            <td>{{PurchaseorderDetail.DamagQtyRecived}}</td>
                                            <td>{{PurchaseorderDetail.ExpQtyRecived}}</td>
                                            <td>{{PurchaseorderDetail.Price}}</td>
                                            <td>{{PurchaseorderDetail.Price * PurchaseorderDetail.QtyRecived | number : 2}}</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <br />
        <!--<div class="row">
            <button type="button" class="accordion btn btn-info" ng-click="getgrdata()" data-toggle="collapse" data-target="#demo">&nbsp; GR Product Received Detail..</button>
            <div id="demo" class="collapse">
                <div class="container-fluid">
                    <h4 class="title">GR Product Received Detail</h4>
                    <table class="tableData" border="0" cellspacing="0" cellpadding="0">
                        <thead>
                            <tr>
                                <th></th>
                                <th>SNo.</th>
                                <th>GR.No.</th>
                                <th>GR PersonName</th>
                                <th>GR Status</th>
                                <th>GR Date</th>
                                <th>GR Amount</th>
                                <th>Vehicle Type</th>
                                <th>Vehicle Number</th>
                                <th>Add Free Item</th>
                            </tr>
                        </thead>
                        <tbody ng-repeat="O in Master">
                            <tr ng-class-even="'even'" ng-class-odd="'odd'">
                                <td class="CX"><span style="color: red;">+</span></td>
                                <td>{{$index+1}}</td>
                                <td>{{O.GrNumber}}</td>
                                <td>{{O.GrPersonName}}</td>
                                <td ng-style="{ 'color' : (O.Status == 'Approved') ? 'black' : 'red'  }">{{O.Status}}</td>
                                <td>{{O.GrDate | date : format : medium}}</td>
                                <td style="        color: red;">{{O.GrAmount | number : 2}}</td>
                                <td ng-show="O.VehicleType != null">{{O.VehicleType}}</td>
                                <td ng-show="O.VehicleType == null"><span style="        color: red;">-</span></td>
                                <td ng-show="O.VehicleType != null">{{O.VehicleNumber }}</td>
                                <td ng-show="O.VehicleType == null"><span style="        color: red;">-</span></td>
                                <td>
                                    <button ng-disabled="O.Status == 'Approved'" type="button" class="btn btn-primary btn-br" ng-click="AddFreeItem(O.GrNumber)" data-dismiss="modal">Free Item</button>
                                </td>
                            </tr>
                            <tr class="sub">
                                <td></td>
                                <td colspan="5">
                                    <table class="tableData" border="0" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <th>SNo.</th>
                                            <th>ItemId</th>
                                            <th>Item Name.</th>
                                            <th>HSN</th>
                                            <th>Batch.No.</th>
                                            <th>MFG Date</th>
                                            <th>Total Quantity</th>
                                            <th>Qty Received</th>
                                            <th>Dam Received</th>
                                            <th>Exp Received</th>
                                            <th>Price</th>
                                            <th>Total Amount</th>
                                        </tr>
                                        <tr ng-repeat="PurchaseorderDetail in O.Detail" ng-class-even="'even'" ng-class-odd="'odd'">
                                            <td>{{$index+1}}</td>
                                            <td>{{PurchaseorderDetail.ItemId}}</td>
                                            <td>{{PurchaseorderDetail.ItemName}}</td>
                                            <td>{{PurchaseorderDetail.HSNCode}}</td>
                                            <td>{{PurchaseorderDetail.BatchNo}}</td>
                                            <td>{{PurchaseorderDetail.MFG | date : format : medium}}</td>
                                            <td>{{PurchaseorderDetail.TotalQuantity}}</td>
                                            <td>{{PurchaseorderDetail.QtyRecived}}</td>
                                            <td>{{PurchaseorderDetail.DamagQtyRecived}}</td>
                                            <td>{{PurchaseorderDetail.ExpQtyRecived}}</td>
                                            <td>{{PurchaseorderDetail.Price}}</td>
                                            <td>{{PurchaseorderDetail.Price * PurchaseorderDetail.QtyRecived | number : 2}}</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>-->
        <br />
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-md-1">
                    <label for="site-name">Barcode:</label>
                </div>
                <div class="col-md-2">
                    <input class="form-control" ng-model="Barcodenumber" ng-change="SearchGRItemBarcode(Barcodenumber)" />
                </div>
                <div style="border-right:1px solid #4e4c4c; height:28px; width:0px;" class="col-md-2">

                </div>
                <div class="col-md-1">
                    <label for="site-name">Item Number:</label>
                </div>
                <div class="col-md-2">
                    <input class="form-control" ng-model="number" />
                </div>
                <div class="col-md-1">
                    <button type="button" ng-disabled="saved" class="btn btn-ar btn-danger" ng-click="SearchGRItem(number)" data-dismiss="modal">Search</button>
                </div>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="table-responsive">
                    <table ng-if="!saved">
                        <thead>
                            <tr>
                                <th>ItemNumber</th>
                                <th>Item Name.</th>
                                <th>MRP</th>
                                <th>P Price</th>
                                <th>MOQ</th>
                                <th>Qty </th>
                                <th>NOP</th>
                                <th>QR</th>
                                <th>Total Amt</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==1">Recive 1</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==1">Dam Recive 1</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==1">Exp Recive 1</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==1">Price 1</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==1">Batch No 1</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==1">MFG 1</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==2">Recive 2</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==2">Dam Recive 2</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==2">Exp Recive 2</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==2">price 2</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==2">Batch No 2</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==2">MFG 2</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==3">Recive 3</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==3">Dam Recive 3</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==3">Exp Recive 3</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==3">Price 3</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==3">Batch No 3</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==3">MFG 3</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==4">Recive 4</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==4">Dam Recive 4</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==4">Exp Recive 4</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==4">Price 4</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==4">Batch No 4</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==4">MFG 4</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==5">Recive 5</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==5">Dam Recive 5</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==5">Exp Recive 5</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==5">Price 5</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==5">Batch No 5</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==5">MFG 5</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-ng-repeat="PurchaseorderDetail in PurchaseorderDetails.purDetails" bgcolor="{{PurchaseorderDetail.Bgcolor}}">
                                <td>{{PurchaseorderDetail.ItemNumber}}</td>
                                <td ng-model="PurchaseorderDetail.ItemName">{{PurchaseorderDetail.ItemName}}</td>
                                <td>
                                    <select class="form-control"
                                            ng-model="PurchaseorderDetail.ItemMultiMRPId"
                                            ng-change="getChangemrp(PurchaseorderDetail,PurchaseorderDetail.ItemMultiMRPId)"
                                            ng-disabled="PurchaseorderDetail.showitemMRP == false">
                                        <option value="0">-Select-</option>
                                        <option value="{{ItemPriceDatas.ItemMultiMRPId}}" ng-repeat="ItemPriceDatas in PurchaseorderDetail.multiMrpIds" data-ng-selected="ItemPriceDatas.ItemMultiMRPId == PurchaseorderDetails.ItemMultiMRPId">{{ItemPriceDatas.MRP}}</option>
                                    </select>
                                </td>
                                <td>{{PurchaseorderDetail.Price |number:2}}</td>
                                <td>{{PurchaseorderDetail.MOQ}}</td>
                                <td>{{((PurchaseorderDetail.TotalQuantity)/(PurchaseorderDetail.MOQ))}}</td>
                                <td>{{PurchaseorderDetail.TotalQuantity}}</td>
                                <td>{{PurchaseorderDetail.QtyRecived}}</td>
                                <td>{{(PurchaseorderDetail.Price)*(PurchaseorderDetail.TotalQuantity) |number:2}}</td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==1">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-change="AmountCalculation(PurchaseorderDetails)"
                                           ng-model="PurchaseorderDetail.QtyRecived1" style="width:70px;" min="0" />

                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==1">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.DamagQtyRecived1" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==1">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.ExpQtyRecived1" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==1">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-change="AmountCalculation(PurchaseorderDetails)"
                                           ng-model="PurchaseorderDetail.Price1" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==1">
                                    <input type="text"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.BatchNo1" style="width:60px;" />
                                </td>

                                <td ng-show="PurchaseorderDetails.purDetails.recCount==1">
                                    <input type="date"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-change="datevalidate(PurchaseorderDetail.MFGDate1)"
                                           ng-model="PurchaseorderDetail.MFGDate1" style="width:130px;" min="{{date | date:'yyyy-MM-dd'}}" />
                                    <span style="color:red;font-size: 27px;">*</span>
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==2">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-change="AmountCalculation(PurchaseorderDetails)"
                                           ng-model="PurchaseorderDetail.QtyRecived2" style="width:60px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==2">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.DamagQtyRecived2" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==2">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.ExpQtyRecived2" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==2">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-change="AmountCalculation(PurchaseorderDetails)"
                                           ng-model="PurchaseorderDetail.Price2" id="hi" style="width:60px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==2">
                                    <input type="text"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.BatchNo2" style="width:60px;" />
                                </td>

                                <td ng-show="PurchaseorderDetails.purDetails.recCount==2">
                                    <input type="date"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.MFGDate2" style="width:130px;" ng-change="datevalidate(PurchaseorderDetail.MFGDate2)" />
                                    <span style="color:red;font-size: 27px;">*</span>
                                </td>

                                <td ng-show="PurchaseorderDetails.purDetails.recCount==3">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-change="AmountCalculation(PurchaseorderDetails)"
                                           ng-model="PurchaseorderDetail.QtyRecived3" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==3">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.DamagQtyRecived3" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==3">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.ExpQtyRecived3" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==3">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-change="AmountCalculation(PurchaseorderDetails)"
                                           ng-model="PurchaseorderDetail.Price3" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==3">
                                    <input type="text"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.BatchNo3" style="width:60px;" />
                                </td>

                                <td ng-show="PurchaseorderDetails.purDetails.recCount==3">
                                    <input type="date"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.MFGDate3"
                                           style="width:130px;"
                                           ng-change="datevalidate(PurchaseorderDetail.MFGDate3)" />
                                    <span style="color:red;font-size: 27px;">*</span>
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==4">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-change="AmountCalculation(PurchaseorderDetails)"
                                           ng-model="PurchaseorderDetail.QtyRecived4" style="width:60px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==4">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.DamagQtyRecived4" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==4">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.ExpQtyRecived4" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==4">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-change="AmountCalculation(PurchaseorderDetails)"
                                           ng-model="PurchaseorderDetail.Price4" style="width:60px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==4">
                                    <input type="text"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.BatchNo4" style="width:60px;" />
                                </td>

                                <td ng-show="PurchaseorderDetails.purDetails.recCount==4">
                                    <input type="date"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.MFGDate4" ng-change="datevalidate(PurchaseorderDetail.MFGDate4)" style="width:130px;" />
                                    <span style="color:red;font-size: 27px;">*</span>
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==5">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-change="AmountCalculation(PurchaseorderDetails)"
                                           ng-model="PurchaseorderDetail.QtyRecived5" style="width:60px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==5">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.DamagQtyRecived5" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==5">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.ExpQtyRecived5" style="width:70px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==5">
                                    <input type="number"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-change="AmountCalculation(PurchaseorderDetails)"
                                           ng-model="PurchaseorderDetail.Price5" style="width:60px;" min="0" />
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==5">
                                    <input type="text"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.BatchNo5" style="width:60px;" />
                                </td>

                                <td ng-show="PurchaseorderDetails.purDetails.recCount==5">
                                    <input type="date"
                                           ng-disabled="PurchaseorderDetail.showitem == false"
                                           ng-model="PurchaseorderDetail.MFGDate5"
                                           style="width:130px;"
                                           ng-change="datevalidate(PurchaseorderDetail.MFGDate5)" />
                                    <span style="color:red;font-size: 27px;">*</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <!--Start-->
                    <!--end-->
                    <table class="table table-striped table-bordered table-hover" ng-if="saved">
                        <thead>
                            <tr>
                                <th>S.No</th>
                                <th>PurchaseSku</th>
                                <th>Item Name.</th>
                                <th>MRP</th>
                                <th>Purchase Price</th>
                                <th>MOQ</th>
                                <th>Qty </th>
                                <th>No of Pieces</th>
                                <th>Total Amount</th>
                                <th>Qty Recived</th>
                                <th>Recived Price</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-ng-repeat="PurchaseorderDetail in xdata">
                                <td>{{1+$index}}</td>
                                <td>{{PurchaseorderDetail.PurchaseSku}}</td>
                                <td>{{PurchaseorderDetail.ItemName}}</td>
                                <td>{{PurchaseorderDetail.MRP |number:2}}</td>
                                <td>{{PurchaseorderDetail.Price |number:2}}</td>
                                <td>{{PurchaseorderDetail.MOQ}}</td>
                                <td>{{((PurchaseorderDetail.TotalQuantity)/(PurchaseorderDetail.MOQ))}}</td>
                                <td>{{PurchaseorderDetail.TotalQuantity}}</td>
                                <td>{{(PurchaseorderDetail.Price)*(PurchaseorderDetail.TotalQuantity) |number:2}}</td>
                                <td>{{PurchaseorderDetail.QtyRecived}}</td>
                                <td>{{(PurchaseorderDetail.PriceRecived) |number:2}}</td>
                            </tr>
                            <tr>
                                <td style="font-size: large;font-weight: bold;color: red;">
                                    Total
                                </td>
                                <td colspan="4"></td>
                                <td style="font-size: large;font-weight: bold;">
                                    {{ScMOQ}}
                                </td>
                                <td style="font-size: large;font-weight: bold;">
                                    {{ScTQuantity}}
                                </td>
                                <td style="font-size: large;font-weight: bold;">
                                    {{ScNoofpieces}}
                                </td>
                                <td style="font-size: large;font-weight: bold;">
                                    {{ScTotalAmount | number:2}}
                                </td>
                                <td style="font-size: large;font-weight: bold;">
                                    {{ScRquantity}}
                                </td>
                                <td style="font-size: large;font-weight: bold;">
                                    {{ScRamount | number:2}}
                                </td>
                            </tr>
                            <tr>
                                <td colspan="11">
                                    <p style="padding: 3px;">
                                        <span style="float: left"><strong>Grand Total:&nbsp;&nbsp; &nbsp;</strong></span>
                                        <span style="float: left">{{RamountInword}} Rupees.</span>
                                        <span style="float: right;color: black;font-weight: bold;font-size: large;">{{ScRamount | number:2}}&nbsp;<i class="fa fa-inr"></i></span>
                                    </p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <br />
                <div class="ttl-amts" ng-if="nosaved">
                    <!--<div style="float: left !important;">
                        <button ng-hide="(PurchaseOrderData.Status == 'Received' || PurchaseOrderData.Status =='Closed')" type="button" class="btn btn-primary btn-br" ng-click="AddFreeItem()" data-dismiss="modal">Free Item</button>
                    </div>-->
                    <div style="float: left !important;  margin-left: 15px;">
                        <button ng-hide="PurchaseOrderData.Status == 'UN Received'|| PurchaseOrderData.Status == 'CN Received' || PurchaseOrderData.Status =='Closed'" type="button" class="btn btn-primary btn-br" ng-click="AddVehicle()" data-dismiss="modal">Set Vehicle</button>
                    </div>
                    <div style="float: left !important; margin-left: 15px;" ng-if="IsVehicleShow">
                        <label for="site-name">VehicleType:</label>
                    </div>
                    <div style="float: left !important;  margin-left: 15px;" ng-if="IsVehicleShow">
                        <select class="form-control" ng-change="GetSupVeh(PurchaseOrderData.VehicleType)" id="site-name" ng-model="PurchaseOrderData.VehicleType">
                            <option value="" ng-selected="PurchaseOrderData.VehicleType == undefined">---SELECT---</option>
                            <option value="Supplier Vehicle">Supplier Vehicle</option>
                            <option value="SK Vehicle">SK Vehicle</option>
                        </select>
                    </div>
                    <div style="float: left !important;  margin-left: 15px;" ng-show="PurchaseOrderData.VehicleType == 'SK Vehicle'" ng-if="IsVehicleShow">
                        <select class="form-control" id="site-name" ng-model="PurchaseOrderData.VehicleNumber">
                            <option value="">--Default--</option>
                            <option value="{{a.VehicleNumber}}" ng-repeat="a in Vehicles">{{a.VehicleNumber}}</option>
                        </select>
                    </div>
                    <div style="float: left !important;  margin-left: 15px;" ng-if="IsVehicleShow">
                        <input class="form-control" placeholder="Enter Vehicle No" ng-model="PurchaseOrderData.VehicleNumber" />
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="col-md-6" ng-if="saved">
                        <table class="table table-striped table-bordered table-hover" ng-if="frShow">
                            <caption><strong>Free Items</strong></caption>
                            <thead>
                                <tr>
                                    <th>GR Number</th>
                                    <th>SupplierName</th>
                                    <th>itemname</th>
                                    <th>No of Piece</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-ng-repeat="item in FreeItems">
                                    <td>{{item.GRNumber}}</td>
                                    <td>{{item.SupplierName}}</td>
                                    <td>{{item.itemname}}</td>
                                    <td>{{item.TotalQuantity | number:2}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <hr />
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <br />
                        <textarea ng-hide="PurchaseOrderData.Status == 'UN Received' || PurchaseOrderData.Status == 'CN Received' || PurchaseOrderData.Status == 'Canceled'" placeholder="Insert note here....." ng-model="PurchaseOrderData.Comment" rows="4" cols="90"></textarea>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6" style="padding-top: 45px;">
                        <button ng-disabled="PurchaseOrderData.Status == 'Canceled' || PurchaseOrderData.Status =='Closed'" ng-hide="PurchaseOrderData.Status == 'UN Received' || PurchaseOrderData.Status == 'UN Partial Received' || PurchaseOrderData.Status == 'CN Received' || PurchaseOrderData.Status == 'CN Partial Received'" class="btn btn-danger btn-br" style="float: right;margin-right: 15px;" ng-click="CancelPO()">
                            &nbsp;Cancel PO
                        </button>
                        <button ng-hide="PurchaseOrderData.Status == 'UN Received' || PurchaseOrderData.Status == 'CN Received' || PurchaseOrderData.Status == 'Canceled' || PurchaseOrderData.Status =='Closed'" id="btnSave1" class="btn btn-primary btn-br" style="float: right;margin-right: 15px;" ng-click="closePO()">
                            <span class="glyphicon glyphicon-folder-close"> </span>&nbsp;CLOSE PO
                        </button>
                        <!--<button class="btn btn-primary btn-br" ng-hide="PurchaseOrderData.Status == 'UN Received' || PurchaseOrderData.Status == 'CN Received' || PurchaseOrderData.Status =='Closed'" ng-click="OpenP(PurchaseorderDetails)" style="float: right;margin-right: 15px;">
                            &nbsp;Go for GR
                        </button>-->
                        <button ng-show="PurchaseOrderData.Status == 'Received' || PurchaseOrderData.Status == 'CN Received' ||  PurchaseOrderData.Status == 'CN Partial Received'" class="btn btn-primary btn-br" ng-click="showGRInvoice(PurchaseorderDetails)" style="margin-right: 15px;float: right;">
                            <span class="glyphicon glyphicon-print"> </span>&nbsp;PRINT INVOICE
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr style="border-top: dotted 4px;" /><br />
    <div id="cover" ng-show="show">
        <div id="loginScreen">
            <div class="modal-header">
                <button aria-hidden="true" class="close" data-dismiss="modal" type="button" ng-click="CloseP()">×</button>
                <h4 class="modal-title">GR Preview</h4>
            </div>
            <div class="modal-body">
                <div class="colasdasdasd">
                    <p style="color: #FF0000" ng-show="gotErrors"> Unable To Create Site  ! Please Try Again</p>
                    <p style="color: #FF0000" ng-show="AlreadyExist"> Site Already Exist  ! Please Try Another Site</p>
                </div>
                <div style="margin: 10px;margin-right: 40px;overflow-y: scroll; max-height: 700px;" class="row">
                    <table width="1325" style="margin-left: 15px;" class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>PurchaseSku</th>
                                <th>Item Name.</th>
                                <th>MRP</th>
                                <th>P Price</th>
                                <th>MOQ</th>
                                <th>Qty </th>
                                <th>NOP</th>
                                <th>QR</th>
                                <th>Total Amt</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==1">Recive1</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==1">Dam Recive1</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==1">Exp Recive1</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==1">Price1</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==1">Batch No1</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==1">MFG1</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==2">Recive2</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==2">Dam Recive2</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==2">Exp Recive2</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==2">price2</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==2">Batch No2</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==2">MFG2</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==3">Recive3</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==3">Dam Recive3</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==3">Exp Recive3</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==3">Price3</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==3">Batch No3</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==3">MFG3</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==4">Recive4</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==4">Dam Recive4</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==4">Exp Recive4</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==4">Price4</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==4">Batch No4</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==4">MFG4</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==5">Recive5</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==5">Dam Recive5</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==5">Exp Recive5</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==5">Price5</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==5">Batch No5</th>
                                <th ng-show="PurchaseorderDetails.purDetails.recCount==5">MFG5</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-ng-repeat="PurchaseorderDetail in PurchaseorderDetails.purDetails" data-ng-style="getStyle(PurchaseorderDetail)">

                                <td>{{PurchaseorderDetail.PurchaseSku}}</td>
                                <td>{{PurchaseorderDetail.ItemName}}</td>
                                <td>{{PurchaseorderDetail.MRP |number:2}}</td>
                                <td>{{PurchaseorderDetail.Price |number:2}}</td>
                                <td>{{PurchaseorderDetail.MOQ}}</td>
                                <td>{{((PurchaseorderDetail.TotalQuantity)/(PurchaseorderDetail.MOQ))}}</td>
                                <td>{{PurchaseorderDetail.TotalQuantity}}</td>
                                <td>{{PurchaseorderDetail.QtyRecived}}</td>
                                <td>{{(PurchaseorderDetail.Price)*(PurchaseorderDetail.TotalQuantity) |number:2}}</td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==1">
                                    {{PurchaseorderDetail.QtyRecived1}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==1">
                                    {{PurchaseorderDetail.DamagQtyRecived1}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==1">
                                    {{PurchaseorderDetail.ExpQtyRecived1}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==1">
                                    {{PurchaseorderDetail.Price1}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==1">
                                    {{PurchaseorderDetail.BatchNo1}}
                                </td>

                                <td ng-show="PurchaseorderDetails.purDetails.recCount==1">
                                    {{PurchaseorderDetail.MFGDate1 | date}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==2">
                                    {{PurchaseorderDetail.QtyRecived2}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==2">
                                    {{PurchaseorderDetail.DamagQtyRecived2}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==2">
                                    {{PurchaseorderDetail.ExpQtyRecived2}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==2">
                                    {{PurchaseorderDetail.Price2}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==2">
                                    {{PurchaseorderDetail.BatchNo2}}
                                </td>

                                <td ng-show="PurchaseorderDetails.purDetails.recCount==2">
                                    {{PurchaseorderDetail.MFGDate2 | date}}
                                </td>

                                <td ng-show="PurchaseorderDetails.purDetails.recCount==3">
                                    {{PurchaseorderDetail.QtyRecived3}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==3">
                                    {{PurchaseorderDetail.DamagQtyRecived3}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==3">
                                    {{PurchaseorderDetail.ExpQtyRecived3}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==3">
                                    {{PurchaseorderDetail.Price3}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==3">
                                    {{PurchaseorderDetail.BatchNo3}}
                                </td>

                                <td ng-show="PurchaseorderDetails.purDetails.recCount==3">
                                    {{PurchaseorderDetail.MFGDate3 | date}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==4">
                                    {{PurchaseorderDetail.QtyRecived4}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==4">
                                    {{PurchaseorderDetail.DamagQtyRecived4}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==4">
                                    {{PurchaseorderDetail.ExpQtyRecived4}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==4">
                                    {{PurchaseorderDetail.Price4}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==4">
                                    {{PurchaseorderDetail.BatchNo4}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==4">
                                    {{PurchaseorderDetail.MFGDate4 | date}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==5">
                                    {{PurchaseorderDetail.QtyRecived5}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==5">
                                    {{PurchaseorderDetail.DamagQtyRecived5}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==5">
                                    {{PurchaseorderDetail.ExpQtyRecived5}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==5">
                                    {{PurchaseorderDetail.Price5}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==5">
                                    {{PurchaseorderDetail.BatchNo5}}
                                </td>
                                <td ng-show="PurchaseorderDetails.purDetails.recCount==5">
                                    {{PurchaseorderDetail.MFGDate5 | date}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger  btn-br" style="float: right;margin-right: 15px;" ng-click="CloseP(PurchaseorderDetails)">
                    &nbsp;Cancel
                </button>
                <button ng-hide="PurchaseOrderData.Status == 'UN Received' || PurchaseOrderData.Status == 'Canceled'" id="btnSave" class="btn btn-warning btn-br" style="margin-right: 15px;float: right;" ng-click="savegrinTempCS(PurchaseOrderData.Comment)">
                    &nbsp;GR Post to checker
                </button>
            </div>
        </div>
    </div>
</div>

<script type="text/ng-template" id="NewaddfreeItem.html">
    <form name="myFormSiteModal">
        <div class="modal-header">
            <button type="button" class="close" ng-click="cancel()" data-dismiss="modal">
                <span class="icon icon-x" aria-hidden="true">
                </span>
                <span class="sr-only">Close</span>
            </button>
            <button aria-hidden="true" class="close" data-dismiss="modal" type="button" ng-click="ok()">×</button>
            <h4 class="modal-title">Purchase Order List</h4>
        </div>
        <div class="modal-body">
            <div class="colasdasdasd">
                <p style="color: #FF0000" ng-show="gotErrors"> Unable To Create Site  ! Please Try Again</p>
                <p style="color: #FF0000" ng-show="AlreadyExist"> Site Already Exist  ! Please Try Another Site</p>
            </div>
            <div class="col-md-12"></div>

            <div class="form-group col-md-2">
                <label for="site-name"> GRN</label><br />
                <input readonly class="form-control" ng-model="saveData.GrNumber" />
            </div>
            <div class="row" style="padding:15px;" ng-hide="{{GrStatus == 'Approved'}}">
                <div class="form-group">
                    <div class="row">
                        <div class="col-md-12">
                            <label for="site-name">Search Item {{GrStatus}}</label>
                        </div>
                        <div class="col-md-10">
                            <input id="site-name" type="text" class="form-control" ng-model="key" placeholder="Enter item Name for search" />
                        </div>
                        <div class="col-md-2">
                            <button type="button" class="btn btn-ar btn-primary" ng-click="Search(key)">
                                <span class="glyphicon glyphicon-search"></span> Search
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group  ">
                    <select class="form-control ng-pristine ng-valid" id="site-name" ng-model="item">
                        <option value="{{item}}" ng-repeat="item in itemData">{{item.itemname}}=({{item.SellingSku}}) => ({{item.PurchaseMinOrderQty}})</option>
                    </select>
                </div>

                <div class="form-group col-md-4">
                    <label for="site-name">No Of Piece :</label><br />
                    <input class="form-control" ng-model="quantity" />
                </div>
                <div class="form-group col-md-2">
                    <label for="site-name">&nbsp;</label><br />
                    <button type="button" style="float:right;" class="btn btn-ar btn-primary" ng-click="AddItem(item ,quantity)">Save</button>
                </div>
            </div>
            <br />
            <table ng-if="frShow" class="table table-bordered table-striped table-responsive">
                <thead>
                    <tr>
                        <th>PurchaseOrder Id</th>
                        <th>GR Number</th>
                        <th>SupplierName</th>
                        <th>itemname</th>
                        <th>No of Piece</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-ng-repeat="item in FreeItems">
                        <td>{{item.PurchaseOrderId}}</td>
                        <td>{{item.GRNumber}}</td>
                        <td>{{item.SupplierName}}</td>
                        <td>{{item.itemname}}</td>
                        <td>{{item.TotalQuantity}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-ar btn-danger" ng-click="cancel()" data-dismiss="modal">Cancel</button>

        </div>
    </form>
</script>

<script type="text/ng-template" id="addvehicle.html">
    <form name="myFormSiteModal">
        <div class="modal-header">
            <button type="button" class="close" ng-click="cancel()" data-dismiss="modal">
                <span class="icon icon-x" aria-hidden="true">
                </span>
                <span class="sr-only">Close</span>
            </button>
            <button aria-hidden="true" class="close" data-dismiss="modal" type="button" ng-click="ok()">×</button>
            <h4 class="modal-title">Add Vehicle</h4>
        </div>
        <div class="modal-body">
            <div class="colasdasdasd">
                <p style="        color: #FF0000" ng-show="gotErrors"> Unable To Create Site  ! Please Try Again</p>
                <p style="        color: #FF0000" ng-show="AlreadyExist"> Site Already Exist  ! Please Try Another Site</p>
            </div>
            <div class="col-md-12"></div>
            <div class="form-group col-md-6">
                <label for="site-name">VehicleType:</label><br />
                <select class="form-control" id="site-name" ng-model="item.VehicleType">
                    <option value="0" selected="selected">---SELECT---</option>
                    <option value="Supplier Vehicle">Supplier Vehicle</option>
                    <option value="SK Vehicle">SK Vehicle</option>
                </select>
            </div>
            <div class="form-group col-md-6">
                <label for="site-name">Vehicle Number :</label><br />
                <input class="form-control" ng-model="item.VehicleNumber" />
            </div><br />
        </div>
        <br /><br />
        <div class="modal-footer">
            <button type="button" class="btn btn-ar btn-warning" ng-click="cancel()" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-ar btn-primary" ng-click="AddVehicle(item)">Set Vehicle</button>
        </div>
    </form>
</script>

<script type="text/ng-template" id="myModalGRInvoice1.html">
    <style type="text/css">
        @media print {
            .no-print {
                display: none !important;
            }

            .border {
                border: 1px solid #000 !important;
            }

            th, td {
                border: solid #000 !important;
                border-width: 0 1px 1px 0 !important;
                border-spacing: 0;
                padding: 0;
                text-align: center;
            }
        }
    </style>
    <form name="myFormSiteModal">
        <div id="divtoPrint" class="client-document-container">
            <div class="containers">

                <div class="table-responsive">
                    <br />
                    <table class="table table-bordered" style="font-size: 12px !important;" width="100%">
                        <tbody class="border">
                            <tr><td colspan="11"> <strong style="text-align: center;">Purchase Order Detail</strong></td></tr>
                            <tr>
                                <td rowspan="2" height="130" width="100">
                                    <img width="100" height="100" src="../../Content/SK.png" />
                                </td>
                                <td colspan="2" height="30" style="text-align: center;">Headquater Detail</td>
                                <td colspan="2" height="30" style="text-align: center;">Warehouse Detail</td>
                            </tr>
                            <tr>
                                <td colspan="2" width="150" height="90">
                                    <p style="padding: 3px;">
                                        <strong> ShopKirana E Trading Pvt. Ltd.</strong> <br />
                                        <span style="text-align: left"> Address:&nbsp; 201, 2nd Floor, A22/3 SP 365,</span> <br />
                                        <span style="text-align: left"> Janjeerwala Square, Indore-4552001,</span><br />
                                        <span style="text-align: left"> Madhya Pradesh.</span>
                                    </p>
                                </td>
                                <td height="90" colspan="2" width="150">
                                    <p style="padding: 3px;">
                                        <span style="float: left">Delivery at: {{PurchaseOrderData.purchaseOrder.WarehouseName}}</span><br />
                                        <span style="float: left">C/O:  {{WhAddress}}</span><br />
                                        <span style="float: left">City: {{WhCityName}}</span><br />
                                        <span style="float: left">Tel.No: {{WhPhone}}</span><br />
                                        <span style="float: left">GSTIN: {{Whgstin}}</span>
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" width="50%" style="text-align: center;">
                                    <b>Supplier Detail</b><br />
                                </td>
                                <td width="50%" style="text-align: center;">
                                    <b>Depo Detail</b><br />
                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" width="50%" style="padding-top: 0px;">
                                    <p style="padding: 3px;">
                                        <span style="float: left">&nbsp;{{PurchaseOrderData.purchaseOrder.SupplierName}}</span><br />
                                        <span ng-show="PurchaseOrderData.purchaseOrder.IsCashPurchase" style="float:left">&nbsp;CashPurchase Name:  {{PurchaseOrderData.purchaseOrder.CashPurchaseName}}</span><br />
                                        <span style="float: left">&nbsp;C/O:  {{supaddress}}</span><br />
                                        <span style="float: left">&nbsp;Tel.No: {{supMobileNo}}</span><br />
                                        <span style="float: left">&nbsp;GSTIN: {{supGst}}</span>
                                    </p>
                                </td>
                                <td width="50%">
                                    <p style="padding: 3px;">
                                        <span style="float: left">&nbsp; {{PurchaseOrderData.purchaseOrder.DepoName}}</span><br />
                                        <span style="float: left">&nbsp;C/O:  {{depoaddress}}</span><br />
                                        <span style="float: left">&nbsp;Tel.No: {{depoMobileNo}}</span><br />
                                        <span style="float: left">&nbsp;GSTIN: {{depoGSTin}}</span>
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="3">
                                    <p>
                                        <span style="float: left">&nbsp;PO Creater: {{PurchaseOrderData.purchaseOrder.CreatedBy}} </span> <br />
                                        <span style="float: left">&nbsp;Buyer: {{PurchaseOrderData.purchaseOrder.BuyerName}}</span>
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        <span style="float: left">&nbsp;Invoice No:{{PurchaseOrderData.purchaseOrder.PoInvoiceNo}} </span><br />
                                        <span style="float: left">&nbsp;PO No:{{PurchaseOrderData.purchaseOrder.PurchaseOrderId}} </span><br />
                                        <!--<span style="float: left">&nbsp;Transaction No:{{PurchaseOrderData.purchaseOrder.TransactionNumber}} </span><br />-->
                                        Pu
                                        <span style="float: left">&nbsp;Date: {{PurchaseOrderData.purchaseOrder.CreationDate | date:'M/d/yyyy HH:mm:ss'}}</span>
                                    </p>
                                </td>
                            </tr>
                        </tbody>
                    </table>


                </div>
                <style type="text/css">
                    @media print {
                        table {
                            top: 10px !important;
                        }

                            table, table tr, table td {
                                border-top: #000 solid 1px !important;
                                border-bottom: #000 solid 1px !important;
                                border-left: #000 solid 1px !important;
                                border-right: #000 solid 1px !important;
                                border-spacing: 0;
                                padding: 0;
                                text-align: center;
                            }
                    }
                </style>
                <div class="table-responsive">
                    <table class="table table-bordered" style="        font-size: 12px !important;" width="100%">
                        <thead class="border">
                            <tr>
                                <th style="border: 1px solid Black;" class="border">S.No</th>
                                <th style="border: 1px solid Black;" class="border">Pur.Sku</th>
                                <th style="border: 1px solid Black;" width="150" class="border">Item Name & Desc.</th>
                                <th style="border: 1px solid Black;" class="border">MRP</th>
                                <th style="border: 1px solid Black;" class="border">Pur.Price</th>
                                <th style="border: 1px solid Black;" class="border">MOQ</th>
                                <th style="border: 1px solid Black;" class="border">Qty </th>
                                <th style="border: 1px solid Black;" class="border">Pieces</th>
                                <th style="border: 1px solid Black;" class="border">Ttl.Amt.</th>
                                <th style="border: 1px solid Black;" class="border">Qty Recived</th>
                                <th style="border: 1px solid Black;" class="border">Recived Price</th>
                            </tr>
                        </thead>
                        <tbody class="border">
                            <tr data-ng-repeat="PurchaseorderDetail in PurchaseOrderData.purchaseOrderDetail">
                                <td>{{1+$index}}</td>
                                <td>{{PurchaseorderDetail.PurchaseSku}}</td>
                                <td width="150">{{PurchaseorderDetail.ItemName}}</td>
                                <td>{{PurchaseorderDetail.MRP |number:2}}</td>
                                <td>{{PurchaseorderDetail.Price |number:2}}</td>
                                <td>{{PurchaseorderDetail.MOQ}}</td>
                                <td>{{((PurchaseorderDetail.TotalQuantity)/(PurchaseorderDetail.MOQ))}}</td>
                                <td>{{PurchaseorderDetail.TotalQuantity}}</td>
                                <td>{{(PurchaseorderDetail.Price)*(PurchaseorderDetail.TotalQuantity) |number:2}}</td>
                                <td>{{PurchaseorderDetail.QtyRecived}}</td>
                                <td>{{(PurchaseorderDetail.PriceRecived) |number:2}}</td>
                            </tr>
                            <tr>
                                <td style="        font-size: large;
        font-weight: bold;
        color: red;">
                                    Total
                                </td>
                                <td colspan="4"></td>
                                <td style="        font-size: large;
        font-weight: bold;">
                                    {{ScMOQ}}
                                </td>
                                <td style="        font-size: large;
        font-weight: bold;">
                                    {{ScTQuantity}}
                                </td>
                                <td style="        font-size: large;
        font-weight: bold;">
                                    {{ScNoofpieces}}
                                </td>
                                <td style="        font-size: large;
        font-weight: bold;">
                                    {{ScTotalAmount | number:2}}
                                </td>
                                <td style="        font-size: large;
        font-weight: bold;">
                                    {{ScRquantity}}
                                </td>
                                <td style="        font-size: large;
        font-weight: bold;">
                                    {{ScRamount | number:2}}
                                </td>
                            </tr>
                            <tr>
                                <td colspan="11">
                                    <p style="padding: 3px;">
                                        <span style="float: left"><strong>Grand Total:&nbsp;&nbsp; &nbsp;</strong></span>
                                        <span style="float: left">{{RamountInword}} Rupees.</span>
                                        <span style="float: right;
        color: black;
        font-weight: bold;
        font-size: large;">{{ScRamount | number:2}}</span>
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="11">
                                    <p style="padding: 3px;">
                                        <span style="float: left"><strong>Payment Terms:&nbsp;</strong></span>
                                        <span style="float: left">7 days after receipt of material (from GRN date)</span><br />
                                        <span style="float: Left;
        margin-top: 2px;">* PLEASE MENTION ITEM WISE OUR PO NO. AND PART NO. ON YOUR INVOICE.</span>
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="11">
                                    <p style="padding: 3px;">
                                        <span style="float: left"><strong>Place of Delivery: {{PurchaseOrderData.purchaseOrder.WarehouseName}} ({{WhCityName}}) </strong></span><br />
                                        <span style="float: left"><strong>C/O: {{WhAddress}} &nbsp;*City: {{WhCityName}}</strong></span>

                                    </p>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                </div>
                <hr />
                <br />
                <div class="row client-info" style="        width: 100% !important">
                    <div class="" style="        width: 100% !important">
                        <div class="" style="        float: left">
                            <strong><strong>TERMS AND CONDITIONS:</strong></strong>
                            <br />
                            <div style="        font-size: 12px;">
                                <p>
                                    1. All invoices should be accompanied with a hard copy of the PO or the number of the PO should be mentioned on the invoice.<br />
                                    2. The invoice qty not exceed the PO qty.<br />
                                    3. The invoice value should not exceed the PO value.<br />
                                    4. The invoice value should not exceed the PO value.<br />
                                    5. If any product has not been supplied then it should be informed to the buying team before the invoice is raised.<br />
                                    6. Stocks will be accepted in the ShopKirana warehouse only between 10:00 AM to 7 PM from Monday to Saturday.<br />
                                    7. Hard copy of the invoice has to be sent along with the product to the delivery address mentioned above. And the soft copy of the same to be mailed to invoice@shopkirana.com on the day of dispatch of material to process payment in hassle free manner.<br />
                                    8. Deliveries against this PO shall be accepted only within 36 hour or earlier date mentioned on PO, and any balance quantity shall stand cancelled.<br />
                                    9. If Vendor fails to send an invoice to ShopKirana on time and as per ShopKirana demand, then ShopKirana will have right to hold future payment until old pending invoices gets clear.<br />
                                    <br /><br />
                                <p style="        float: left">ShopKirana Signature:</p> <p style="        float: right">Supplier Signature:</p>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6" style="        float: right;">
                            <!--<img src="./images/logo.PNG" style="width:300px;"/>-->
                        </div>
                    </div>

                </div>
                <div class="row" style="        width: 100% !important">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="table-responsive">

                            <div class="row">
                                <style>
                                    @media print {
                                        #btnPrint {
                                            display: none !important;
                                        }

                                        .printer {
                                            display: none !important;
                                        }
                                    }
                                </style>
                                <div class="col-lg-4 col-md-4 col-sm-4 printer">
                                    <div class="row pad-top-botm">
                                        <div class="col-lg-12 col-md-12 col-sm-12 printer">
                                            <button id="btnPrint" class="btn-sm btn-primary printer no-print" style="        float: right;
        margin-right: 15px;" onclick="javascript: printDiv('divtoPrint')">
                                                <span class="glyphicon glyphicon-print no-print"> </span> Print Invoice
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</script>

<script>
    var coll = document.getElementsByClassName("collapsible");
    var i;
    for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function () {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.display === "block") {
                content.style.display = "none";
            } else {
                content.style.display = "block";
            }
        });
    }
    function printDiv(divID) {
        //Get the HTML of div
        var divElements = document.getElementById(divID).innerHTML;
        printDivThroughTrick("divtoPrint");
        onRouteChangeOff();
        window.location.reload();
    }
    function printDivThroughTrick(divName) {

        var printContents = document.getElementById(divName).innerHTML;
        var originalContents = document.body.innerHTML;

        if (navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {
            var popupWin = window.open('', '_blank', 'width=900,height=600,scrollbars=no,menubar=no,toolbar=no,location=no,status=no,titlebar=no');
            popupWin.window.focus();
            popupWin.document.write('<!DOCTYPE html><html><head>' +
                '<link rel="stylesheet" type="text/css" href="style.css" />' +
                '</head><body onload="window.print()"><div class="reward-body">' + printContents + '</div></html>');
            popupWin.onbeforeunload = function (event) {
                popupWin.close();
                return '.\n';
            };
            popupWin.onabort = function (event) {
                popupWin.document.close();
                popupWin.close();
            }
        } else {
            var popupWin = window.open('', '_blank', 'width=900,height=600');
            popupWin.document.open();
            popupWin.document.write('<html><head><link rel="stylesheet" type="text/css" href="style.css" /></head><body onload="window.print()">' + printContents + '</html>');
            popupWin.document.close();
        }
        popupWin.document.close();

        return true;
    }
    function printElement(elem) {
        var domClone = elem.cloneNode(true);

        $printSection = document.getElementById("printSection");

        if (!$printSection) {
            var $printSection = document.createElement("div");
            $printSection.id = "printSection";
            document.body.appendChild($printSection);
        }

        $printSection.innerHTML = "";
        $printSection.appendChild(domClone);

    }
</script>