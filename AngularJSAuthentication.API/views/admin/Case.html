
<div class="page page-table"  button-permission-binder parentName="Case Managment" pageName="Case Managment">
    <section class="panel panel-default table-dynamic">

        <br />
        <div class="p-3 mb-2 bg-primary ">

            <div class="panel-heading"> <h4> <strong> <span class="glyphicon glyphicon-th"> </span>Cases</strong> </h4></div>
            <H4 style="text-align:right;margin-right: 20px;"><strong>  <span>Total {{stores.length}} People's</span></strong> </H4>



            <button class="btn btn-ar btn-info" style="text-align:right;margin-right: 20px;" type="submit" onClick="refreshPage()">Refresh</button>

        </div>

    </section>
</div>

<script type="text/javascript">
    function refreshPage() {
        window.location.reload();
    }
</script>

<!--case mang-->
<div class="form-group col-md-12 clear-both">
    <div class="form-group col-md-3">
        <label for="site-name">SKcode</label><br>
        <input  class="form-control" ng-model="Demanddata.skcode" placeholder="Enter Sk code" />
    </div>
    <div class="form-group col-md-3">
        <label for="site-name">Mobile</label><br>
        <input class="form-control" ng-model="Demanddata.mobile" placeholder="Enter moblie" />
    </div>
    <div class="form-group col-md-3">
        <label for="site-name"></label><br />
        <button type="button" class="btn btn-ar btn-primary" id="Search1" name="Sall" ng-click="Search(Demanddata)">Search</button>
    </div>
    <div class="form-group col-md-3">
        <div style="margin-left: -330px;margin-top: 19px;">
            <!--<button href="#myModal" ng-click="open1(Demanddata)" type="button" class="btn btn-danger">
        <span><strong>Add Detail</strong></span>
    </button>-->
          
            <button href="#myModal" ng-click="open1(Demanddata)" type="button" class="btn btn-danger skadd">Add Detail</button>
        </div>
    </div>
</div>
<table ng-show="allcusts" ng-table="tableParams" show-filter="true" class="table table-striped table-responsive " id="exportable">
    <tbody>
        <tr ng-class-odd="'odd'" ng-class-even="'even'" ng-click="user.$selected = !user.$selected; changeSelection(user)"
            ng-class="{'active': user.$selected}" data-ng-repeat="customer in $data| orderBy:'-CustomerId'">
            <!--<td width="30" style="text-align: left" header="'ng-table/headers/checkbox.html'">
        <input type="checkbox" ng-model="checkboxes.items[customer.CustomerId]" />
    </td>-->
            <td title="'Customer Name'" filter="{ Name: 'text'}" ng-model="customer.Name" sortable="'Name'">{{customer.Name}}</td>
            <td title="'ShopName'" filter="{ ShopName: 'text'}" ng-model="customer.ShopName" sortable="'ShopName'">{{customer.ShopName}}</td>
            <td title="'Skcode'" filter="{ Skcode: 'text'}" ng-model="customer.Skcode" sortable="'Skcode'">{{customer.Skcode}}</td>
            <td title="'City'" filter="{ City: 'text'}" ng-model="customer.City" sortable="'City'">{{customer.City}}</td>
            <td title="'Area'" filter="{ LandMark: 'text'}" ng-model="customer.LandMark" sortable="'LandMark'">{{customer.LandMark}}</td>
            <!--<td title="'Areacode'" filter="{ Areaid: 'text'}" ng-model="customer.Areaid" sortable="'Areaid'">{{customer.Code}}</td>-->
            <td title="'WarehouseName'" filter="{ WarehouseName: 'text'}" ng-model="customer.WarehouseName" sortable="'WarehouseName'">{{customer.WarehouseName}}</td>

            <!--<td title="'Status'" filter="{ State: 'text'}" ng-model="customer.State" sortable="'State'">{{customer.State}}</td>-->
            <!--<td title="'Active'" filter="{ Active: 'text'}" ng-model="customer.Active" sortable="'Status'">{{customer.Active}}</td>-->
            <td title="'Mobile'" filter="{ Mobile: 'text'}" ng-model="customer.Mobile" sortable="'Mobile'">{{customer.Mobile}}</td>
            <td title="'ResidenceAddressProof'" filter="{ Mobile: 'text'}" ng-model="customer.Mobile" sortable="'Mobile'">
                <img src='http://137.59.52.130/UploadedImages/{{customer.ResidenceAddressProof}}'
                     class="img-square img80_80" onError="this.onerror = null; this.src = '../../img/logoicon.png';" />
            </td>
            <td title="'UploadRegistration'" filter="{ Mobile: 'text'}" ng-model="customer.Mobile" sortable="'Mobile'">

                <img src='http://137.59.52.130/UploadedImages/{{customer.UploadRegistration}}' class="img-square img80_80" onError="this.onerror = null; this.src = '../../img/logoicon.png';" />
            </td>
           
            <td title="'Status'" ng-if="customer.Active == '1' "><span class="label label-info"><span>Approved</span></span></td>
            <td ng-if="customer.Active == '0' "><span class="label label-warning"><span>Declined</span></span></td>


            <td title="'Delete'" ng-show="(UserRole.rolenames.startsWith('HQ'))"><button class="btn-sm btn-danger" ng-click="opendelete(customer,$index)">Remove</button>
            </td>
        </tr>
    </tbody>
</table>
<!--//end-->
<table class="table table-bordered table-striped table-responsive">
    <thead>
        <tr>
            <th>
                <div class="th">
                    S.No
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order('BaseCategoryName')"
                          data-ng-class="{active: row == 'BaseCategoryName'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('-BaseCategoryName')"
                          data-ng-class="{active: row == '-BaseCategoryName'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    Skcode
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order('BaseCategoryName')"
                          data-ng-class="{active: row == 'BaseCategoryName'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('-BaseCategoryName')"
                          data-ng-class="{active: row == '-BaseCategoryName'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    MobileNumber
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order(' CreatedDate')"
                          data-ng-class="{active: row == ' CreatedDate'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('- CreatedDate')"
                          data-ng-class="{active: row == '- CreatedDate'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    Category Name
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order('HindiName')"
                          data-ng-class="{active: row == 'HindiName'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('-HindiName')"
                          data-ng-class="{active: row == '-HindiName'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    SubCategory Name
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order('Code')"
                          data-ng-class="{active: row == 'Code'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('-Code')"
                          data-ng-class="{active: row == '-Code'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    Priority
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order('IsActive')"
                          data-ng-class="{active: row == 'IsActive'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('-IsActive')"
                          data-ng-class="{active: row == '-IsActive'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    Call type
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order(' CreatedDate')"
                          data-ng-class="{active: row == ' CreatedDate'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('- CreatedDate')"
                          data-ng-class="{active: row == '- CreatedDate'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    Summary
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order(' CreatedDate')"
                          data-ng-class="{active: row == ' CreatedDate'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('- CreatedDate')"
                          data-ng-class="{active: row == '- CreatedDate'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    Status
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order(' CreatedDate')"
                          data-ng-class="{active: row == ' CreatedDate'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('- CreatedDate')"
                          data-ng-class="{active: row == '- CreatedDate'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    Assign To
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order(' CreatedDate')"
                          data-ng-class="{active: row == ' CreatedDate'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('- CreatedDate')"
                          data-ng-class="{active: row == '- CreatedDate'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    Description ReAssign
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order(' CreatedDate')"
                          data-ng-class="{active: row == ' CreatedDate'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('- CreatedDate')"
                          data-ng-class="{active: row == '- CreatedDate'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    CreatedbyName
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order(' CreatedDate')"
                          data-ng-class="{active: row == ' CreatedDate'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('- CreatedDate')"
                          data-ng-class="{active: row == '- CreatedDate'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    Created Date
                    <span class="glyphicon glyphicon-chevron-up"
                          data-ng-click="order('CreatedDate')"
                          data-ng-class="{active: row == 'CreatedDate'}"></span>
                    <span class="glyphicon glyphicon-chevron-down"
                          data-ng-click="order('-CreatedDate')"
                          data-ng-class="{active: row == '-CreatedDate'}"></span>
                </div>
            </th>
            <th>
                <div class="th">
                    Set Status
                </div>
            </th>
            <th>
                <div class="th">
                    History
                </div>
            </th>
        </tr>
    </thead>
    <tbody>
        <tr data-ng-repeat="trade in AllCases">
            <td>{{1+$index}}</td>
            <td>{{trade.SKCode}}</td>
            <td>{{trade.MobileNumber}}</td>
            <td>{{trade.IssueCategoryName}}</td>
            <td>{{trade.IssueSubCategoryName}}</td>
            <td>{{trade.Priority}}</td>
            <td>{{trade.Statuscall}}</td>          
            <td>{{trade.Summary}}</td>
            <td>{{trade.Status}}</td>
            <td>{{trade.Assignto}}</td>
            <td>{{trade.Description}}</td>
            <td>{{trade.CreatedbyName}}</td>
            <td>{{trade.CreatedDate | date:'medium'}}</td>
            <!--<td>{{trade.updatesummary}}</td>
            <td>{{trade.UpdateByName}}</td>-->
            <td><button class="btn-sm btn-primary sksetstatus" ng-show="trade.Status == 'Open'||trade.Status == 'Reassign'"  ng-click="open(trade)">Set Status</button></td>
            <td><button class="btn-sm btn-primary skhistory" data-toggle="modal" data-target="#customermodel"   ng-click="CaseHistroy(trade)">History</button></td>
        </tr>
    </tbody>
</table>
<!--//Add Detail-->
<script type="text/ng-template" id="myAddDetailmodal.html">

    <form name="myFormSiteModal" style="height: 702px">
        <div class="modal-header" style="color: black;background-color: blanchedalmond;">
            <button type="button" class="close" ng-click="cancel()" data-dismiss="modal">
                <span class="icon icon-x" aria-hidden="true">
                </span>
                <span class="sr-only">Close</span>
            </button>
            <button aria-hidden="true" class="close" data-dismiss="modal" type="button" ng-click="ok()">×</button>
            <h4 class="modal-title">Add Detail</h4>

        </div>

        <section class="panel panel-default table-dynamic">
            <div id="divscroll" class="scroll" style="height: 560px">
                <div class="row">
                    <div class="modal-body" id="myModal">


                        <div class="alert-link">
                            <h4><u style="color:black;background-color: floralwhite;">-Note:- Fields which are marked by <span style="color:red;">*</span> are Mandatory</u></h4>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="site-name">SKcode</label><br>
                            <input class="form-control" ng-model="CaseData.skcode" placeholder="Enter Sk code" />
                        </div>

                        <div class="form-group col-md-3">
                            <label for="site-name">Mobile</label><br>
                            <input class="form-control" ng-model="CaseData.mobile" placeholder="Enter moblie" />
                        </div>

                        <div class="form-group col-md-3">
                            <label for="site-name">Issue Category<span style="color:red;">*</span></label><br />
                            <select class="form-control" data-live-search="true" data-hide-disabled="true" id="site-name-project" ng-model="CaseData.IssueCategoryId" ng-change="GetIssueSubCategory(CaseData.IssueCategoryId)">
                                <option value="">--Select--</option>
                                <option value="{{issueCategory.IssueCategoryId}}" ng-repeat="issueCategory in issueCategorys"> {{issueCategory.IssueCategoryName}}</option>
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="site-name">Issue SubCategory <span style="color:red;">*</span></label><br />
                            <select class="form-control" id="site-name-issue" data-ng-disabled="!CaseData.IssueCategoryId" ng-model="CaseData.issueSubCategoryId">
                                <option value="">--Select--</option>
                                <option value="{{issueSubCategory.IssueSubCategoryId}}" ng-repeat="issueSubCategory in issueSubCategorys"> {{issueSubCategory.IssueSubCategoryName}}</option>
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="site-name">Priority</label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.ptype">
                                <option value="">--Select--</option>
                                <option value="{{priorities.ptype}}" ng-repeat="priorities in prioritytype"> {{priorities.ptype}}</option>
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="site-name">Call Type</label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.ctype">
                                <option value="" ng-selected="true">--Select--</option>
                                <option value="{{casestatus.ctype}}" ng-repeat="casestatus in statuscall"> {{casestatus.ctype}}</option>
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="site-name">Status</label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.stype">
                                <option value="" ng-selected="true">--Select--</option>
                                <option value="{{casestatus.stype}}" ng-repeat="casestatus in status"> {{casestatus.stype}}</option>
                            </select>
                        </div>
                        <!--<div class="form-group col-md-12">
                         <label for="site-name">Issue</label><br />-->
                        <!--<select class="form-control" id="site-name"></select>-->
                        <!--<input style="width: 525px; border-left-width: 13px;" id="site-name" type="text" class="form-control" ng-model="CaseData.Issue" placeholder="Enter Issue" />
                        </div>-->
                        <div class="form-group col-md-12">
                            <label for="site-name">Description<span style="color:red;">*</span></label><br />
                            <!--<input  type="text" class="form-control" ng-model="CaseData.Summary" placeholder="Enter Summary" />-->
                            <textarea id="site-name-summary" type="text" class="form-control" ng-model="CaseData.Summary" placeholder="Enter Summary" cols="3" rows="6" style="background-color: azure; font-weight: bold;" />
                        </div>
                        <!--<div class="form-group col-md-6">
                            <label for="site-name">Upload</label><br />

                            <input type="file" upload-files multiple />
                            <ul>
                                <li ng-repeat="file in files">{{file.name}}</li>
                            </ul>
                            <br />
                            <button ng-click="Upload()" ng-model="CaseData.FileUrl" class="btn btn-success">Upload</button>
                        </div>-->
                    </div>
                </div>
            </div>
        </section>
        <div class="modal-footer">
            <button type="button" class="btn btn-ar btn-warning" ng-click="cancel()" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-ar btn-primary" ng-click="AddCase(CaseData)" > Create</button>
        </div>
    </form>
</script>
<!--//end-->
<script type="text/ng-template" id="mySetStatus.html">
    <form name="myFormSiteModal">
        <div class="modal-header">
            <button type="button" class="close" ng-click="cancel()" data-dismiss="modal">
                <span class="icon icon-x" aria-hidden="true">
                </span>
                <span class="sr-only">Close</span>
            </button>
            <button aria-hidden="true" class="close" data-dismiss="modal" type="button" ng-click="ok()">×</button>
            <h4 class="modal-title">Edit Set Status</h4>
        </div>
        <section class="panel panel-default table-dynamic">
            <div class="modal-body">
                
                <div class="form-group col-md-3">
                    <label for="site-name">SKcode</label><br>
                    <input class="form-control" ng-model="CaseData.SKCode" placeholder="Enter Sk code" disabled>
                </div>
                <div class="form-group col-md-3">
                    <label for="site-name">Mobile</label><br>
                    <input class="form-control" ng-model="CaseData.MobileNumber" placeholder="Enter moblie" disabled>
                </div>
                <div class="form-group col-md-3">
                    <label for="site-name">Issue Category<span style="color:red;">*</span></label><br />
                    <input class="form-control" ng-model="CaseData.IssueCategoryName" disabled>
                </div>
                <div class="form-group col-md-3">
                    <label for="site-name">Issue SubCategory <span style="color:red;">*</span></label><br />
                    <input class="form-control" ng-model="CaseData.IssueSubCategoryName" disabled>
                </div>
                <div class="form-group col-md-3">
                    <label for="site-name">Priority</label><br />
                    <input class="form-control" ng-model="CaseData.Priority" disabled>
                </div>
                <!--<div class="form-group col-md-3">
                <label for="site-name">Priority</label><br />
                <input class="form-control" ng-model="CaseData.Priority" >
            </div>-->
                <div class="form-group col-md-3">
                    <label for="site-name">Call Type</label><br />
                    <input class="form-control" id="site-name" ng-model="CaseData.Statuscall" disabled>
                </div>
                <div class="form-group col-md-3">
                    <label for="site-name">Status</label><br />
                    <select class="form-control" id="site-name" ng-model="CaseData.stype">
                        <option value="" ng-selected="true">--Select--</option>
                        <option value="{{casestatus.stype}}" ng-repeat="casestatus in status"> {{casestatus.stype}}</option>
                    </select>
                </div>
                <div class="form-group col-md-3" ng-if="(CaseData.stype == 'Reassign')">
                    <label for="site-name">AssignTo</label><br />
                    <select class="form-control" id="site-name" ng-model="CaseData.atype">
                        <option value="" ng-selected="true">--Select--</option>
                        <option value="{{casestatus.atype}}" ng-repeat="casestatus in Assignto"> {{casestatus.atype}}</option>
                    </select>
                </div>
                <div class="form-group col-md-12">
                    <label for="site-name">Description<span style="color:red;">*</span></label><br />
                    <textarea id="site-name-summary" type="text" class="form-control" ng-model="CaseData.Summary" placeholder="Enter Summary" cols="3" rows="6" style="background-color: azure; font-weight: bold;" disabled />
                </div>
                <div class="form-group col-md-12">
                    <label for="site-name">Description ReAssign<span style="color:red;">*</span></label><br />
                    <textarea id="site-name-summary" type="text" class="form-control" ng-model="CaseData.Description" placeholder="Enter Description" cols="3" rows="6" style="background-color: azure; font-weight: bold;" />
                </div>
            </div>
        </section>
        <br />
        <br />
        <br />
        <br />
        <div class="modal-footer">
            <button type="button" class="btn btn-ar btn-warning" ng-click="cancel()" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-ar btn-primary" ng-click="SetCase(CaseData)">Save</button>
        </div>
    </form>
</script>

<!--caseHistory-->
<style>
    .w3-red {
        color: #fff !important;
        background-color: saddlebrown;
    }

    .w1-red {
        color: #fff !important;
        background-color: #4c4948 !important;
    }
</style>

<div class="modal fade " id="customermodel" role="dialog">
    <div class="modal-dialog1">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header w3-red">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h3 class="modal-title" style="text-align: center;">Case History</h3>
            </div>
            <table class="table table-bordered table-striped table-responsive">
                <thead>

                    <tr class="w1-red">

                        <th>
                            <div class="th">
                                SkCode
                            </div>
                        </th>

                        <th>
                            <div class="th">
                                Mobile Name
                            </div>
                        </th>

                        <th>
                            <div class="th">
                                Category Name
                            </div>
                        </th>

                        <th>
                            <div class="th">
                                Sub Category Name
                            </div>
                        </th>

                        <th>
                            <div class="th">
                                Priority
                            </div>
                        </th>
                        <th>
                            <div class="th">
                                Call type
                            </div>
                        </th>

                        <th>
                            <div class="th">
                                Summary
                            </div>
                        </th>

                        <th>
                            <div class="th">
                                Status
                            </div>
                        </th>

                        <th>
                            <div class="th">
                                Assign To
                            </div>
                        </th>

                        <th>
                            <div class="th">
                                Description Re Assign
                            </div>
                        </th>
                        <th>
                            <div class="th">
                                Created by Name
                            </div>
                        </th>
                        <th>
                            <div class="th">
                                Created Date
                            </div>
                        </th>

                    </tr>
                </thead>
                <tbody>
                    <!--data-ng-repeat="trade in dataordermasterHistrory-->
                    <tr data-ng-repeat="trade in CasedataHistroy">                        
                        <td>{{trade.Skcode}}</td>
                        <td>{{trade.MobileNumber}}</td>
                        <td>{{trade.CategoryName}}</td>
                        <td>{{trade.SubCategoryName}}</td>
                        <td>{{trade.Priority}}</td>
                        <td>{{trade.CallType}}</td>
                        <td>{{trade.Summary}}</td>
                        <td>{{trade.Status}}</td>
                        <td>{{trade.Assignto}}</td>
                        <td>{{trade.DescriptionReAssign}}</td>
                        <td>{{trade.CreatedbyName}}</td>
                        <td>{{trade.UpdatedDate | date:'medium'}}</td>

                    </tr>
                </tbody>
            </table>
            <div class="modal-footer w3-red">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>
<!--Update AssetsCategory-->
<script type="text/ng-template" id="myCaseModalPut.html">

    <form name="myFormSiteModal" style="height: 702px">

        <div class="modal-header">
            <button type="button" class="close" ng-click="cancel()" data-dismiss="modal">
                <span class="icon icon-x" aria-hidden="true">
                </span>
                <span class="sr-only">Close</span>
            </button>
            <!--<button aria-hidden="true" class="close" data-dismiss="modal" type="button" ng-click="ok()">×</button>-->
            <h4 class="modal-title">Edit Case</h4>

        </div>
        <section class="panel panel-default table-dynamic">
            <div id="divscroll" class="scroll" style="height: 560px">
                <div class="row">
                    <div class="modal-body">
                        <div class="colasdasdasd">
                            <p style="color: #FF0000" ng-show="gotErrors"> Unable To Create Site  ! Please Try Again</p>
                            <p style="color: #FF0000" ng-show="AlreadyExist"> Site Already Exist  ! Please Try Another Site</p>
                        </div>
                        <!--<div class="form-group">
                            <label for="site-name">Case Number:</label><br />
                            <input id="site-name" type="text" class="form-control" ng-model="CaseData.CaseNumber" placeholder="Enter Case Number" required />
                        </div>-->
                        <div class="alert-link">
                            <h4><u style="color:black;background-color: floralwhite;">-Note:- Fields which are marked by <span style="color:red;">*</span> are Mandatory</u></h4>
                        </div>
                        </br>
                        <div class="form-group col-md-3">
                            <label for="site-name">Item Name<span style="color:red;">*</span> </label><br />
                            <autocomplete options="datas"
                                          place-holder="Search itemname..."
                                          on-select="onSelect"
                                          display-property="itemname"
                                          input-class="form-control"
                                          ng-model="itemMasterData.itemname"
                                          ng-readonly="xy=='0'" id="Itmnem" name="iname">
                                <!--//id="Itmnem"-->
                            </autocomplete>
                        </div>

                        <div class="form-group col-md-3">
                            "s
                            <label for="site-name">Project<span style="color:red;">*</span></label><br />
                            m-
                            <select class="form-control" id="site-name" ng-model="CaseData.CaseProjectId">
                                <option value="">--Select--</option>
                                <option value="{{project.CaseProjectId}}" ng-repeat="project in projects" ng-selected="CaseData.CaseProjectId==project.CaseProjectId">  {{project.CaseProjectName}}</option>
                            </select>

                        </div>
                        <div class="form-group col-md-3">
                            <label for="site-name">Priority</label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.Priority">
                                <option value="">--Select--</option>
                                <option value="{{priorities.ptype}}" ng-repeat="priorities in prioritytype" ng-selected="CaseData.Priority==priorities.ptype"> {{priorities.ptype}}</option>
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="site-name">Issue Type<span style="color:red;">*</span></label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.IssueType">
                                <option value="">--Select--</option>
                                <option value="{{issues.type}}" ng-repeat="issues in issuetype" ng-selected="CaseData.IssueType==issues.type">  {{issues.type}}</option>
                            </select>
                        </div>

                        <div class="form-group col-md-6">
                            <label for="site-name">Labels</label><br />
                            <input id="site-name" type="text" class="form-control" ng-model="CaseData.Labels" placeholder="Enter Labels" />

                        </div>

                        <div class="form-group col-md-3">
                            <label for="site-name">Linked Issues</label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.Issues">
                                <option value="">--Select--</option>
                                <option value="{{linkedissues.lissue}}" ng-repeat="linkedissues in linkedissue" ng-selected="CaseData.Issues==linkedissues.lissue"> {{linkedissues.lissue}}</option>
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="site-name">Department</label><br />
                            <select id="site-name" class="form-control" ng-model="CaseData.Department">
                                <option value="">---Select---</option>
                                <option value="Sales Executive">Sales Executive</option>
                                <!--<option value="Delivery Boy">Delivery Boy</option>-->
                                <!--<option value="None">None</option>-->
                            </select>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="site-name">Epic Link</label><br />
                            <!--<select class="form-control" id="site-name"></select>-->
                            <input id="site-name" type="text" class="form-control" ng-model="CaseData.EpicLink" placeholder="Enter Epic Link" />
                        </div>

                        <div class="form-group col-md-3">
                            <label for="site-name">Assignee</label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.PeopleID">
                                <option value="">--Select--</option>
                                <option value="{{people.PeopleID}}" ng-selected="CaseData.PeopleID==people.PeopleID" ng-repeat="people in peoples | filter:{Department:CaseData.Department}"> {{people.DisplayName}}</option>
                            </select>
                        </div>

                        <div class="form-group col-md-3">
                            <label for="site-name">orStatus</label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.Status">
                                <option value="">--Select--</option>
                                <option value="{{casestatus.stype}}" ng-repeat="casestatus in status" ng-selected="CaseData.Status==casestatus.stype"> {{casestatus.stype}}</option>
                            </select>
                        </div>

                        <div class="form-group col-md-6">
                            <label for="site-name">Issue</label><br />
                            <!--<select class="form-control" id="site-name"></select>-->
                            <input id="site-name" type="text" class="form-control" ng-model="CaseData.Issue" placeholder="Enter Issue" />
                        </div>

                        <div class="form-group col-md-12">
                            <label for="site-name">Summary<span style="color:red;">*</span></label><br />
                            <textarea id="site-name-summary" type="text" class="form-control" ng-model="CaseData.Summary" placeholder="Enter Summary" cols="4" rows="10" />
                        </div>

                        <div class="form-group col-md-6">
                            <label for="uploadAdvertisements">Upload Image:</label>
                            <input class="btn btn-primary" id="file" type="file" nv-file-select="" uploader="uploader" />
                            <div ng-repeat="item in uploader.queue">
                                <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-model="item.FileUrl" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                    <span class="glyphicon glyphicon-upload"></span> Upload
                                </button>
                            </div>
                            <img alt="" src="{{CaseData.LogoUrl}}" class="img-square img80_80">
                        </div>
                    </div>
                </div>
            </div>

        </section>
        <div class="modal-footer">
            <button type="button" class="btn btn-ar btn-warning" ng-click="cancel()" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-ar btn-primary" ng-click="PutCase(CaseData)" onclick="window.location.reload();">Save</button>
        </div>
    </form>
</script>
<!-- /new site modal -->
<!--Comment AssetsCategory-->
<script type="text/ng-template" id="myCaseModalComment.html">

    <form name="myFormSiteModal">

        <div class="modal-header">
            <button type="button" class="close" ng-click="cancel()" data-dismiss="modal">
                <span class="icon icon-x" aria-hidden="true">
                </span>
                <span class="sr-only">Close</span>
            </button>
            <!--<button aria-hidden="true" class="close" data-dismiss="modal" type="button" ng-click="ok()">×</button>-->
            <h4 class="modal-title">Add Comment</h4>

        </div>
        <section class="panel panel-default table-dynamic">
            <div id="divscroll" class="scroll">
                <div class="row">
                    <div class="modal-body">
                        <div class="colasdasdasd">
                            <p style="color: #FF0000" ng-show="gotErrors"> Unable To Create Site  ! Please Try Again</p>
                            <p style="color: #FF0000" ng-show="AlreadyExist"> Site Already Exist  ! Please Try Another Site</p>
                        </div>
                        <!--<div class="form-group">
                            <label for="site-name">Case Number:</label><br />
                            <input id="site-name" type="text" class="form-control" ng-model="CaseData.CaseNumber" placeholder="Enter Case Number" required />
                        </div>-->

                        <div class="form-group col-md-3">
                            <label for="site-name">Project<span style="color:red;">*</span></label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.CaseProjectId" disabled>
                                <option value="">--Select--</option>
                                <option value="{{project.CaseProjectId}}" ng-repeat="project in projects" ng-selected="CaseData.CaseProjectId==project.CaseProjectId">  {{project.CaseProjectName}}</option>
                            </select>

                        </div>

                        <div class="form-group col-md-3">
                            <label for="site-name">Issue Type<span style="color:red;">*</span></label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.IssueType" disabled>
                                <option value="">--Select--</option>
                                <option value="{{issues.type}}" ng-repeat="issues in issuetype" ng-selected="CaseData.IssueType==issues.type">  {{issues.type}}</option>
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="site-name">Priority</label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.Priority" disabled>
                                <option value="">--Select--</option>
                                <option value="{{priorities.ptype}}" ng-repeat="priorities in prioritytype" ng-selected="CaseData.Priority==priorities.ptype"> {{priorities.ptype}}</option>
                            </select>
                        </div>

                        <div class="form-group col-md-3">
                            <label for="site-name">Status</label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.Status" disabled>
                                <option value="">--Select--</option>
                                <option value="{{casestatus.stype}}" ng-repeat="casestatus in status" ng-selected="CaseData.Status==casestatus.stype"> {{casestatus.stype}}</option>
                            </select>

                        </div>
                        <div class="form-group col-md-3">
                            <label for="site-name">Linked Issues</label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.Issues" disabled>
                                <option value="">--Select--</option>
                                <option value="{{linkedissues.lissue}}" ng-repeat="linkedissues in linkedissue" ng-selected="CaseData.Issues==linkedissues.lissue"> {{linkedissues.lissue}}</option>
                            </select>
                        </div>

                        <div class="form-group col-md-3">
                            <label for="site-name">Issue</label><br />
                            <!--<select class="form-control" id="site-name"></select>-->
                            <input id="site-name" type="text" class="form-control" ng-model="CaseData.Issue" placeholder="Enter Issue" disabled />
                        </div>
                        <div class="form-group col-md-6">
                            <label for="site-name">Labels</label><br />
                            <input id="site-name" type="text" class="form-control" ng-model="CaseData.Labels" placeholder="Enter Labels" disabled />

                        </div>

                        <div class="form-group col-md-6">
                            <label for="site-name">Epic Link</label><br />
                            <!--<select class="form-control" id="site-name"></select>-->
                            <input id="site-name" type="text" class="form-control" ng-model="CaseData.EpicLink" placeholder="Enter Epic Link" disabled />
                        </div>

                        <div class="form-group col-md-3">
                            <label for="site-name">Assignee</label><br />
                            <select class="form-control" id="site-name" ng-model="CaseData.PeopleID" disabled>
                                <option value="">--Select--</option>
                                <option value="{{people.PeopleID}}" ng-repeat="people in peoples" ng-selected="CaseData.PeopleID==people.PeopleID"> {{people.DisplayName}}</option>
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="uploadAdvertisements">Upload Image:</label>
                            <input class="btn btn-primary" id="file" type="file" nv-file-select="" uploader="uploader" disabled />
                            <div ng-repeat="item in uploader.queue">
                                <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-model="item.FileUrl" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                    <span class="glyphicon glyphicon-upload"></span> Upload
                                </button>
                            </div>
                            <img alt="" src="{{CaseData.LogoUrl}}" class="img-square img80_80">
                        </div>
                        <div class="form-group col-md-12">
                            <label for="site-name">Summary<span style="color:red;">*</span></label><br />
                            <input cols="4" rows="10" id="site-name-summary" type="text" class="form-control" ng-model="CaseData.Summary" placeholder="Enter Summary" disabled />
                        </div>
                        <div class="form-group col-md-6">
                            <label for="site-name">Comments</label><br />
                            <textarea id="site-name" type="text" class="form-control" ng-model="CaseData.Comments" cols="4" rows="10" />
                        </div>
                    </div>
                </div>
                <table class="table table-bordered table-striped table-responsive">
                    <thead>
                        <tr>
                            <th>
                                <div class="th">
                                    Email
                                    <span class="glyphicon glyphicon-chevron-up"
                                          data-ng-click="order('Name')"
                                          data-ng-class="{active: row == 'Name'}"></span>
                                    <span class="glyphicon glyphicon-chevron-down"
                                          data-ng-click="order('-Name')"
                                          data-ng-class="{active: row == '-Name'}"></span>
                                </div>
                            </th>
                            <th>
                                <div class="th">
                                    Comments
                                    <span class="glyphicon glyphicon-chevron-up"
                                          data-ng-click="order('Comments')"
                                          data-ng-class="{active: row == 'Comments'}"></span>
                                    <span class="glyphicon glyphicon-chevron-down"
                                          data-ng-click="order('-Comments')"
                                          data-ng-class="{active: row == '-Comments'}"></span>
                                </div>
                            </th>
                            <th>
                                <div class="th">
                                    Created Date
                                    <span class="glyphicon glyphicon-chevron-up"
                                          data-ng-click="order('CreatedDate')"
                                          data-ng-class="{active: row == 'CreatedDate'}"></span>
                                    <span class="glyphicon glyphicon-chevron-down"
                                          data-ng-click="order('-CreatedDate')"
                                          data-ng-class="{active: row == '-CreatedDate'}"></span>
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-repeat="trade in getComment">
                            <td>{{trade.UserName}}</td>
                            <td>{{trade.Comments}}</td>
                            <td>{{trade.CreatedDate |date: 'dd/MM/yyyy'}}</td>
                            <!--<td><button class="btn-sm btn-primary">Details</button> </td>-->
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        <div class="modal-footer">
            <button type="button" class="btn btn-ar btn-warning" ng-click="cancel()" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-ar btn-primary" ng-click="AddComment(CaseData)" onclick="window.location.reload();">Save</button>
        </div>
    </form>
</script>
<script type="text/javascript">

</script>

<script type="text/ng-template" id="myModaldeleteCase.html">

    <form name="myFormTaskTypeModal1">

        <div class="modal-header">
            <button type="button" class="close" ng-click="cancel()" data-dismiss="modal">

                <span class="icon icon-x" aria-hidden="true">
                </span>
                <span class="sr-only">Close</span>
            </button>

            <h4 class="modal-title">Delete Case</h4>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="TaskType-name">Are you sure you want to Delete?</label><br />
            </div>

        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-ar btn-warning" ng-click="cancel()" data-dismiss="modal">No</button>
            <button type="submit" class="btn btn-ar btn-primary" ng-click="deletecase(CaseData,$index)" onclick="window.location.reload();">Yes</button>
        </div>

    </form>

</script>
